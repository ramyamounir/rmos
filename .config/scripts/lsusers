#!/usr/bin/env bash

users=$(getent passwd | cut -d: -f1)

echo "╭───────────────────────────────┬─────────────────────────────────────────────────────────────────────╮"
printf "│%30s │ %-68s│\n" "User" "Group(s)"
echo "├───────────────────────────────┼─────────────────────────────────────────────────────────────────────┤"

while IFS= read -r user; do
    groups=$(id -Gn $user | tr ' ' ',')
    printf "│%30s │ %-68s│\n" "$user" "$groups"
done <<< "$users" | sort

echo "╰───────────────────────────────┴─────────────────────────────────────────────────────────────────────╯"
