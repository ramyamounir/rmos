#!/usr/bin/env bash

groups=$(getent group | cut -d: -f1)

echo "╭───────────────────────────────┬─────────────────────────────────────────────────────────────────────╮"
printf "│%30s │ %-68s│\n" "Group" "User(s)"
echo "├───────────────────────────────┼─────────────────────────────────────────────────────────────────────┤"

while IFS= read -r group; do
    users=$(getent group $group | cut -d: -f4)
    printf "│%30s │ %-68s│\n" "$group" "$users"
done <<< "$groups" | sort

echo "╰───────────────────────────────┴─────────────────────────────────────────────────────────────────────╯"
